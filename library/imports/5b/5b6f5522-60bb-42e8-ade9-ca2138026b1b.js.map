{"version":3,"sources":["..\\..\\..\\..\\assets\\Script/assets\\Script\\Fish.js"],"names":["cc","Class","extends","Component","properties","onCatched","hook","default","type","Node","delta","Vec2","onLoad","start","update","dt","worldPos","parent","convertToWorldSpace","position","node","setPosition","convertToNodeSpace","add","x","onCollisionEnter","other","self","console","log","color","Color","RED","sub"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,mBAAW,KAhBH;AAiBRC,cAAK;AACDC,qBAAS,IADR;AAEDC,kBAAMR,GAAGS;AAFR,SAjBG;AAqBRC,eAAM;AACFH,qBAAS,IADP;AAEFC,kBAAMR,GAAGW;AAFP;AArBE,KAHP;;AA8BL;;AAEAC,UAhCK,oBAgCK,CAET,CAlCI;AAoCLC,SApCK,mBAoCI,CAER,CAtCI;AAwCLC,UAxCK,kBAwCGC,EAxCH,EAwCO;AACR,YAAG,KAAKT,IAAL,IAAc,KAAKI,KAAnB,IAA4B,KAAKL,SAApC,EAA+C;AAC3C,gBAAIW,WAAW,KAAKV,IAAL,CAAUW,MAAV,CAAiBC,mBAAjB,CAAqC,KAAKZ,IAAL,CAAUa,QAA/C,CAAf;AACA,iBAAKC,IAAL,CAAUC,WAAV,CAAsB,KAAKD,IAAL,CAAUH,MAAV,CAAiBK,kBAAjB,CAAoCN,QAApC,EAA8CO,GAA9C,CAAkD,KAAKb,KAAvD,CAAtB;AACH,SAHD,MAGO;AACH,iBAAKU,IAAL,CAAUI,CAAV,IAAe,CAAf;AACH;AACJ,KA/CI;;;AAiDLC,sBAAkB,0BAAUC,KAAV,EAAiBC,IAAjB,EAAuB;AACrCC,gBAAQC,GAAR,CAAY,qBAAZ;AACA,aAAKxB,SAAL,GAAiB,IAAjB;AACA,aAAKC,IAAL,GAAYoB,MAAMN,IAAlB;AACA,aAAKA,IAAL,CAAUU,KAAV,GAAkB9B,GAAG+B,KAAH,CAASC,GAA3B;AACA,YAAIhB,WAAW,KAAKV,IAAL,CAAUW,MAAV,CAAiBC,mBAAjB,CAAqC,KAAKZ,IAAL,CAAUa,QAA/C,CAAf;AACA,aAAKT,KAAL,GAAa,KAAKU,IAAL,CAAUD,QAAV,CAAmBc,GAAnB,CAAuB,KAAKb,IAAL,CAAUH,MAAV,CAAiBK,kBAAjB,CAAoCN,QAApC,CAAvB,CAAb;AACAhB,WAAG6B,GAAH,CAAO,oBAAoB,KAAKnB,KAAhC;AACH;AAzDI,CAAT","file":"Fish.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n        onCatched: false,\r\n        hook:{\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        delta:{\r\n            default: null,\r\n            type: cc.Vec2,\r\n        }\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    update (dt) {\r\n        if(this.hook &&  this.delta && this.onCatched) {\r\n            var worldPos = this.hook.parent.convertToWorldSpace(this.hook.position);\r\n            this.node.setPosition(this.node.parent.convertToNodeSpace(worldPos).add(this.delta));\r\n        } else {\r\n            this.node.x += 1;\r\n        }\r\n    },\r\n\r\n    onCollisionEnter: function (other, self) {\r\n        console.log('on collision enter2');\r\n        this.onCatched = true;\r\n        this.hook = other.node;\r\n        this.node.color = cc.Color.RED;\r\n        var worldPos = this.hook.parent.convertToWorldSpace(this.hook.position);\r\n        this.delta = this.node.position.sub(this.node.parent.convertToNodeSpace(worldPos))\r\n        cc.log(\"Node Position: \" + this.delta);\r\n    },\r\n});\r\n"]}