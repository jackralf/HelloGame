require=function s(c,r,a){function h(o,t){if(!r[o]){if(!c[o]){var e="function"==typeof require&&require;if(!t&&e)return e(o,!0);if(d)return d(o,!0);var i=new Error("Cannot find module '"+o+"'");throw i.code="MODULE_NOT_FOUND",i}var n=r[o]={exports:{}};c[o][0].call(n.exports,function(t){var e=c[o][1][t];return h(e||t)},n,n.exports,s,c,r,a)}return r[o].exports}for(var d="function"==typeof require&&require,t=0;t<a.length;t++)h(a[t]);return h}({Config:[function(t,e,o){"use strict";cc._RF.push(e,"405ecrL3edLiLL9OL/F4PJK","Config"),window.fishes=[{type:1,direction:1,speed:100,x:0,y:0},{type:1,direction:-1,speed:200,x:-200,y:0},{type:1,direction:1,speed:100,x:0,y:200},{type:1,direction:-1,speed:100,x:0,y:-200},{type:1,direction:1,speed:200,x:100,y:-150},{type:1,direction:-1,speed:100,x:200,y:300}],cc._RF.pop()},{}],Fish:[function(t,e,o){"use strict";cc._RF.push(e,"5b6f5UiYLtC6K3pyiE4Amsb","Fish"),cc.Class({extends:cc.Component,properties:{onCatched:!1,hookNode:{default:null,type:cc.Node},delta:{default:null,type:cc.Vec2},direction:1,speed:100},onLoad:function(){},start:function(){},update:function(t){if(this.hookNode&&this.delta&&this.onCatched){var e=this.hookNode.parent.convertToWorldSpace(this.hookNode.position);this.node.setPosition(this.node.parent.convertToNodeSpace(e).add(this.delta)),"IDLE"==this.hookNode.getComponent("Hook").state&&this.node.destroy()}else this.node.x+=this.speed*this.direction*t,(700<=this.node.x||this.node.x<=-700)&&(this.direction=-this.direction)},onCollisionEnter:function(t,e){console.log("on collision enter2");var o=t.getComponent("Hook");if(console.log("state:"+o.state),"FIRE"==o.state){o.catch=!0,o.state="PULL",this.onCatched=!0,this.hookNode=t.node,this.node.color=cc.Color.RED;var i=this.hookNode.parent.convertToWorldSpace(this.hookNode.position);this.delta=this.node.position.sub(this.node.parent.convertToNodeSpace(i)),cc.log("Node Position: "+this.delta)}}}),cc._RF.pop()},{}],HelloWorld:[function(t,e,o){"use strict";cc._RF.push(e,"280c3rsZJJKnZ9RqbALVwtK","HelloWorld"),t("Config"),cc.Class({extends:cc.Component,properties:{t_prefab:{default:null,type:cc.Prefab},hook:{default:null,type:cc.Node}},onLoad:function(){var t=cc.director.getWinSize();console.log("win size width:"+t.width+", height:"+t.height);var e=cc.director.getCollisionManager();e.enabled=!0,e.enabledDebugDraw=!0,e.enabledDrawBoundingBox=!0;for(var o=0;o<fishes.length;o++){var i=fishes[o],n=cc.instantiate(this.t_prefab);n.parent=this.node;var s=n.getComponent("Fish");s.direction=i.direction,s.speed=i.speed,n.setPosition(i.x,i.y)}},update:function(t){},callback:function(t,e){console.log("fire ...."),this.hook.getComponent("Hook").fire()}}),cc._RF.pop()},{Config:"Config"}],Hook:[function(t,e,o){"use strict";cc._RF.push(e,"236575cmhFLqr84WPdE08z7","Hook"),cc.Class({extends:cc.Component,properties:{MAX_LENGTH:800,rotationAngle:0,rotationDirection:1,rotationSpeed:1,fireSpeed:100,pullSpeed:100,state:"IDLE",catch:!1},onLoad:function(){},start:function(){},fire:function(){"IDLE"==this.state&&(this.catch=!1,this.state="FIRE")},update:function(t){if("FIRE"==this.state)this.node.x+=Math.cos(this.rotationAngle*Math.PI/180)*this.fireSpeed*t,this.node.y-=Math.sin(this.rotationAngle*Math.PI/180)*this.fireSpeed*t,cc.v2(this.node.x,this.node.y).mag()>=this.MAX_LENGTH&&(this.state="PULL");else if("PULL"==this.state){var e=this.pullSpeed;this.catch&&(e/=2),this.node.x-=Math.cos(this.rotationAngle*Math.PI/180)*e*t,this.node.y+=Math.sin(this.rotationAngle*Math.PI/180)*e*t,0<=this.node.y&&(this.node.setPosition(cc.v2(0,0)),this.state="IDLE")}else"IDLE"==this.state&&(180<=this.rotationAngle&&(this.rotationDirection=-1),this.rotationAngle<=0&&(this.rotationDirection=1),this.rotationAngle+=this.rotationDirection*this.rotationSpeed*t,this.node.rotation=this.rotationAngle)},onCollisionEnter:function(t,e){}}),cc._RF.pop()},{}],Player:[function(t,e,o){"use strict";cc._RF.push(e,"8a405pskMJFp7hlKJg2t+52","Player"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){},update:function(t){}}),cc._RF.pop()},{}]},{},["Config","Fish","HelloWorld","Hook","Player"]);